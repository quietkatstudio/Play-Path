<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.text.Font?>

<StackPane fx:controller="com.frost_byte.ForgotPasswordController"
           prefHeight="626.0" prefWidth="367.0"
           stylesheets="@login.css"
           xmlns="http://javafx.com/javafx/23.0.1"
           xmlns:fx="http://javafx.com/fxml/1">

    <children>

        <!-- Background Image -->
        <Pane>
            <ImageView fitHeight="626.0" fitWidth="367.0" preserveRatio="false">
                <image>
                    <Image url="@../../images/backgroundcropped.png" />
                </image>
            </ImageView>
        </Pane>

        <!-- Card Container -->
        <VBox alignment="CENTER" spacing="15.0" prefWidth="300">
            <padding>
                <Insets top="90.0" bottom="90.0" left="20.0" right="20.0"/>
            </padding>

            <!-- TITLE -->
            <Label text="Password Recovery" textFill="BLACK">
                <font>
                    <Font size="22.0"/>
                </font>
            </Label>

            <!-- Username Input -->
            <TextField fx:id="usernameText"
                       promptText="Enter your username"
                       prefWidth="250.0"
                       styleClass="input-field"/>

            <!-- Security Question -->
            <Label fx:id="securityQuestionLabel"
                   text="Security question will appear here"
                   textFill="BLACK"
                   wrapText="true"
                   maxWidth="250.0"
                   visible="false"/>

            <!-- Answer Input -->
            <TextField fx:id="answerText"
                       promptText="Enter your answer"
                       prefWidth="250.0"
                       styleClass="input-field"
                       visible="false"/>

            <!-- Submit Answer Button -->
             <Button fx:id="submitButton"
                    text="Submit Answer"
                    prefHeight="30.0"
                    prefWidth="250.0"
                    onAction="#handleSubmitAnswer"
                    styleClass="login-button"
                    visible="false"/>

            <!-- New Password Input -->
            <PasswordField fx:id="newPasswordText"
                           promptText="Enter new password"
                           prefWidth="250.0"
                           styleClass="input-field"
                           visible="false"/>

            <!-- Submit New Password Button -->
            <Button fx:id="submitNewPasswordButton"
                    text="Submit New Password"
                    prefHeight="30.0"
                    prefWidth="250.0"
                    onAction="#handleSubmitNewPassword"
                    styleClass="login-button"
                    visible="false"/>

            <!-- Error Message Label -->
            <Label fx:id="errorLabel"
                   textFill="#FF4C4C"
                   wrapText="true"
                   maxWidth="250.0"
                   style="-fx-font-size: 12px;" />            

            <!-- Back to Login -->
            <Button text="Back to Login"
                    prefHeight="30.0"
                    prefWidth="250.0"
                    onAction="#switchToLogin"
                    styleClass="register-button"/>
        </VBox>

    </children>
</StackPane>
